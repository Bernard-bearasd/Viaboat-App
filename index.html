<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏≠‡∏õ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏£‡∏∑‡∏≠</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Leaflet.js CSS for Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        /* ‡∏ã‡πà‡∏≠‡∏ô‡πÅ‡∏ñ‡∏ö scrollbar */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        /* Page transitions */
        .page {
            display: none; /* ‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô */
            animation: fadeIn 0.3s ease-in-out;
        }
        .page.active {
            display: block; /* ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤ active */
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Bottom nav */
        .bottom-nav {
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        }
        .nav-item.active svg {
            color: #0891b2; /* cyan-600 */
        }
        .nav-item.active p {
            color: #0891b2; /* cyan-600 */
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background-color: #0891b2; /* cyan-600 */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease;
        }
        .boat-spinner {
            font-size: 4rem; /* 64px */
            animation: spin 1.5s linear infinite, bob 2s ease-in-out infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes bob {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Leaflet Map Height */
        #map {
            height: 320px; /* h-80 */
        }

        /* Chat Page Specific Styling */
        #page-chat.active {
            /* This page handles its own layout and scrolling */
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        /* Simple Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 24px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .toggle-slider {
            background-color: #0891b2; /* cyan-600 */
        }
        input:checked + .toggle-slider:before {
            transform: translateX(16px);
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="boat-spinner">‚õµÔ∏è</div>
        <p class="text-white text-lg font-semibold mt-4" data-i18n="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>

    <!-- Main App Container (Initially hidden) -->
    <div id="app-container" class="max-w-md mx-auto h-[100dvh] bg-white flex flex-col shadow-lg hidden">

        <!-- Content Area -->
        <main class="flex-1">

            <!-- Page: Home (‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å) -->
            <div id="page-home" class="page p-4">
                <header class="bg-cyan-600 text-white p-4 rounded-lg shadow-md mb-4 -mx-4 -mt-4">
                    <h1 class="text-2xl font-bold text-center" data-i18n="home.title">ViaBoat (‡∏à‡∏≥‡∏•‡∏≠‡∏á)</h1>
                </header>
                
                <div class="mb-4">
                    <label for="search" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="home.search_label">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á</label>
                    <input type="text" id="search" placeholder="‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-cyan-500 focus:border-cyan-500" data-i18n-placeholder="home.search_placeholder">
                </div>

                <!-- Real Map -->
                <div id="map" class="w-full h-80 rounded-lg shadow-md mb-4"></div>

                <div class="grid grid-cols-2 gap-4">
                    <button onclick="showPage('page-info')" class="bg-white p-4 rounded-lg shadow-md border border-gray-200 hover:bg-gray-50 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto text-cyan-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p class="text-center font-semibold text-gray-800" data-i18n="home.info_button">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                    </button>
                    <button onclick="showPage('page-timetable')" class="bg-cyan-600 text-white p-4 rounded-lg shadow-md hover:bg-cyan-700 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p class="text-center font-semibold" data-i18n="home.buy_button">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤ & ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß</p>
                    </button>
                </div>
            </div>

            <!-- Page: Information (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•) -->
            <div id="page-info" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-home')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="info.title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠</h1>
                </header>
                <div class="p-4 space-y-6">
                    <div>
                        <h2 class="text-xl font-semibold mb-3" data-i18n="info.header1">‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡πà‡∏ß‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏û‡∏£‡∏∞‡∏¢‡∏≤</h2>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <span class="text-2xl mr-3">üüß</span>
                                <div>
                                    <strong class="text-gray-900" data-i18n="info.orange.title">‡∏ò‡∏á‡∏™‡πâ‡∏° (Orange Flag)</strong>
                                    <p class="text-sm text-gray-600" data-i18n="info.orange.body">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ - ‡∏ß‡∏±‡∏î‡∏£‡∏≤‡∏ä‡∏™‡∏¥‡∏á‡∏Ç‡∏£ (‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå)</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-2xl mr-3">üü®</span>
                                <div>
                                    <strong class="text-gray-900" data-i18n="info.yellow.title">‡∏ò‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á (Yellow Flag)</strong>
                                    <p class="text-sm text-gray-600" data-i18n="info.yellow.body">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ - ‡∏™‡∏≤‡∏ó‡∏£ (‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå, ‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡πà‡∏ß‡∏ô)</p>
                                </div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-2xl mr-3">üü©</span>
                                <div>
                                    <strong class="text-gray-900" data-i18n="info.green.title">‡∏ò‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á (Green-Yellow Flag)</strong>
                                    <p class="text-sm text-gray-600" data-i18n="info.green.body">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏õ‡∏≤‡∏Å‡πÄ‡∏Å‡∏£‡πá‡∏î - ‡∏™‡∏≤‡∏ó‡∏£ (‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå, ‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡πà‡∏ß‡∏ô)</p>
                                </div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-2xl mr-3">üü•</span>
                                <div>
                                    <strong class="text-gray-900" data-i18n="info.red.title">‡∏ò‡∏á‡πÅ‡∏î‡∏á (Red Flag)</strong>
                                    <p class="text-sm text-gray-600" data-i18n="info.red.body">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ - ‡∏™‡∏≤‡∏ó‡∏£ (‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå, ‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏®)</p>
                                </div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-2xl mr-3">üü¶</span>
                                <div>
                                    <strong class="text-gray-900" data-i18n="info.blue.title">‡∏ò‡∏á‡∏ü‡πâ‡∏≤ (Blue Flag)</strong>
                                    <p class="text-sm text-gray-600" data-i18n="info.blue.body">‡πÄ‡∏£‡∏∑‡∏≠‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß (Tourist Boat) ‡∏à‡∏≠‡∏î‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏´‡∏•‡∏±‡∏Å</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h2 class="text-xl font-semibold mb-3" data-i18n="info.header2">MINE Smart Ferry</h2>
                        <ul class="space-y-3">
                             <li class="flex items-start">
                                <span class="text-2xl mr-3">üü™</span>
                                <div>
                                    <strong class="text-gray-900" data-i18n="info.purple.title">‡∏™‡∏≤‡∏¢‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á (Purple Line)</strong>
                                    <p class="text-sm text-gray-600" data-i18n="info.purple.body">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏û‡∏£‡∏∞‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏Å‡∏•‡πâ‡∏≤ - ‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏ó‡∏£</p>
                                </div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-2xl mr-3">üü¢</span>
                                <div>
                                    <strong class="text-gray-900" data-i18n="info.green_mine.title">‡∏™‡∏≤‡∏¢‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß (Green Line)</strong>
                                    <p class="text-sm text-gray-600" data-i18n="info.green_mine.body">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏û‡∏£‡∏∞‡∏õ‡∏¥‡πà‡∏ô‡πÄ‡∏Å‡∏•‡πâ‡∏≤ - ‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏ó‡∏£</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Page: Time Table (‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤) -->
            <div id="page-timetable" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-home')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="timetable.title">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤</h1>
                </header>
                <div class="p-4">
                    <div class="mb-4">
                        <label for="from-pier" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="timetable.from_label">‡∏à‡∏≤‡∏Å:</label>
                        <select id="from-pier" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-cyan-500 focus:border-cyan-500">
                            <option value="" data-i18n="timetable.from_placeholder">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á</option>
                            <option value="Tha Maharaj">‡∏ó‡πà‡∏≤‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä (Tha Maharaj)</option>
                            <option value="Wat Arun">‡∏ß‡∏±‡∏î‡∏≠‡∏£‡∏∏‡∏ì (Wat Arun)</option>
                            <option value="Nonthaburi">‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ (Nonthaburi)</option>
                            <option value="Wat Rajsingkorn">‡∏ß‡∏±‡∏î‡∏£‡∏≤‡∏ä‡∏™‡∏¥‡∏á‡∏Ç‡∏£ (Wat Rajsingkorn)</option>
                        </select>
                    </div>
                    <div class="mb-6">
                        <label for="to-pier" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="timetable.to_label">‡∏ñ‡∏∂‡∏á:</label>
                        <select id="to-pier" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-cyan-500 focus:border-cyan-500">
                            <option value="" data-i18n="timetable.to_placeholder">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</option>
                            <option value="Tha Maharaj">‡∏ó‡πà‡∏≤‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä (Tha Maharaj)</option>
                            <option value="Wat Arun">‡∏ß‡∏±‡∏î‡∏≠‡∏£‡∏∏‡∏ì (Wat Arun)</option>
                            <option value="Nonthaburi">‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ (Nonthaburi)</option>
                            <option value="Wat Rajsingkorn">‡∏ß‡∏±‡∏î‡∏£‡∏≤‡∏ä‡∏™‡∏¥‡∏á‡∏Ç‡∏£ (Wat Rajsingkorn)</option>
                        </select>
                    </div>

                    <div id="schedule-display" class="bg-gray-50 p-4 rounded-lg shadow-inner hidden">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3" id="schedule-route-title"></h3>
                        <div class="space-y-2">
                            <div>
                                <p class="font-medium" data-i18n="timetable.mon_fri">‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå:</p>
                                <p class="text-gray-700">09:40, 10:10, 10:40, 11:10, 11:40, 12:10, 12:40, 13:10, 13:40, 14:10, 14:40, 15:00</p>
                            </div>
                            <div>
                                <p class="font-medium" data-i18n="timetable.sat">‡πÄ‡∏™‡∏≤‡∏£‡πå (‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏ô‡∏±‡∏Å‡∏Ç‡∏±‡∏ï‡∏§‡∏Å‡∏©‡πå):</p>
                                <p class="text-gray-700">09:40, 10:10, 10:40, 11:10, 11:40, 12:40, 13:10, 13:40, 14:10, 14:40, 15:10</p>
                            </div>
                            <div>
                                <p class="font-medium" data-i18n="timetable.sun">‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå:</p>
                                <p class="text-gray-700">09:40, 10:10, 10:40, 11:10, 11:40, 13:10, 13:40, 14:10, 14:40, 15:10</p>
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="loadTrips()" class="w-full bg-cyan-600 text-white p-3 rounded-lg shadow-md hover:bg-cyan-700 transition mt-6 font-semibold" data-i18n="timetable.search_button">
                        ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß
                    </button>
                </div>
            </div>

            <!-- Page: Buy Ticket List (‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πã‡∏ß) -->
            <div id="page-buy-list" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-timetable')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="buy.title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏£‡∏∑‡∏≠</h1>
                </header>
                <div class="p-4 space-y-4" id="trip-list-container">
                    <!-- Trip items will be injected here by JS -->
                </div>
            </div>

            <!-- Page: Payment Method (‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô) -->
            <div id="page-payment" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-buy-list')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="payment.title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h1>
                </header>
                <div class="p-4 space-y-4">
                    <button onclick="selectPayment('Cash')" class="w-full bg-white p-4 rounded-lg shadow-md border border-gray-200 hover:bg-gray-50 transition flex items-center space-x-4">
                        <span class="text-3xl">üíµ</span>
                        <span class="font-semibold text-lg text-gray-800" data-i18n="payment.cash">‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</span>
                    </button>
                    <button onclick="selectPayment('Alipay')" class="w-full bg-white p-4 rounded-lg shadow-md border border-gray-200 hover:bg-gray-50 transition flex items-center space-x-4">
                         <span class="text-3xl">üÖ∞Ô∏è</span>
                        <span class="font-semibold text-lg text-gray-800">Alipay</span>
                    </button>
                    <button onclick="selectPayment('PromptPay')" class="w-full bg-white p-4 rounded-lg shadow-md border border-gray-200 hover:bg-gray-50 transition flex items-center space-x-4">
                         <span class="text-3xl">üÖøÔ∏è</span>
                        <span class="font-semibold text-lg text-gray-800">PromptPay</span>
                    </button>
                </div>
            </div>

            <!-- Page: Payment - PromptPay (‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢ PromptPay) -->
            <div id="page-payment-qr" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-payment')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="qr.title">‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢ PromptPay</h1>
                </header>
                <div class="p-6 flex flex-col items-center">
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-cyan-100">
                        <!-- Updated QR Code -->
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=SimulatedPaymentQR" alt="QR Code" class="rounded-md">
                    </div>
                    <p class="text-red-600 font-semibold text-2xl my-4" id="qr-timer">00:15:00</p>
                    <button class="w-full max-w-xs bg-gray-200 text-gray-800 p-3 rounded-lg shadow-md hover:bg-gray-300 transition font-semibold mb-4" data-i18n="qr.save_button">
                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å QR Code
                    </button>
                    <button onclick="confirmPayment()" class="w-full max-w-xs bg-cyan-600 text-white p-3 rounded-lg shadow-md hover:bg-cyan-700 transition font-semibold" data-i18n="qr.confirm_button">
                        (‡∏à‡∏≥‡∏•‡∏≠‡∏á) ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
                    </button>
                </div>
            </div>

             <!-- Page: Payment - Cash (‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î) -->
            <div id="page-payment-cash" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-payment')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="cash.title">‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</h1>
                </header>
                <div class="p-6 flex flex-col items-center text-center">
                    <span class="text-7xl mb-6">üíµ</span>
                    <div class="bg-cyan-50 border border-cyan-200 p-4 rounded-lg shadow-sm">
                        <p class="text-cyan-800 font-medium" data-i18n="cash.instruction">
                            "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏≤‡∏ô‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡∏ñ‡∏∂‡∏á"
                        </p>
                    </div>
                    <button onclick="confirmPayment()" class="w-full max-w-xs bg-cyan-600 text-white p-3 rounded-lg shadow-md hover:bg-cyan-700 transition font-semibold mt-8" data-i18n="cash.confirm_button">
                        (‡∏à‡∏≥‡∏•‡∏≠‡∏á) ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πã‡∏ß
                    </button>
                </div>
            </div>

            <!-- Page: Payment - Alipay (‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢ Alipay) -->
            <div id="page-payment-alipay" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-payment')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold">‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢ Alipay</h1>
                </header>
                <div class="p-6">
                    <div class="bg-white rounded-lg shadow-lg border p-6">
                        <h2 class="text-2xl font-bold text-blue-600 mb-6 text-center">Alipay</h2>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-500" data-i18n="alipay.merchant">Merchant</span>
                                <span class="font-medium text-gray-900" id="alipay-merchant"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-500" data-i18n="alipay.method">Payment method</span>
                                <span class="font-medium text-gray-900">AlipayHK</span>
                            </div>
                        </div>
                        <hr class="my-4">
                        <div class="space-y-3 text-sm">
                             <div class="flex justify-between">
                                <span class="text-gray-500" data-i18n="alipay.price">Product price</span>
                                <span class="font-medium text-gray-900" id="alipay-price"></span>
                            </div>
                             <div class="flex justify-between">
                                <span class="text-gray-500" data-i18n="alipay.discount">Coupon discount</span>
                                <span class="font-medium text-gray-900">‡∏ø0.00</span>
                            </div>
                        </div>
                        <hr class="my-4">
                         <div class="flex justify-between font-bold text-lg">
                            <span data-i18n="alipay.total">Total amount</span>
                            <span id="alipay-total"></span>
                        </div>
                    </div>
                    <button onclick="confirmPayment()" class="w-full bg-cyan-600 text-white p-3 rounded-lg shadow-md hover:bg-cyan-700 transition font-semibold mt-8" data-i18n="alipay.confirm_button">
                        Confirm
                    </button>
                </div>
            </div>

            <!-- Page: Payment Success (‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à) -->
            <div id="page-success" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <h1 class="text-xl font-bold text-center w-full" data-i18n="success.title">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h1>
                </header>
                <div class="p-6 flex flex-col items-center justify-center text-center mt-10">
                    <div class="w-32 h-32 bg-green-500 rounded-full flex items-center justify-center shadow-lg mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-4" data-i18n="success.header">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
                    <button onclick="viewTicket()" class="w-full max-w-xs bg-cyan-600 text-white p-3 rounded-lg shadow-md hover:bg-cyan-700 transition font-semibold mt-8" data-i18n="success.view_ticket_button">
                        ‡∏î‡∏π‡∏ï‡∏±‡πã‡∏ß
                    </button>
                </div>
            </div>

            <!-- Page: My Ticket (‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô) -->
            <div id="page-ticket" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-home')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="ticket.title">‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h1>
                </header>
                <div class="p-6">
                    <div class="bg-cyan-50 border-2 border-dashed border-cyan-300 rounded-2xl shadow-lg p-6 relative">
                        <!-- Perforations -->
                        <div class="absolute top-1/3 -left-4 w-8 h-8 bg-white rounded-full"></div>
                        <div class="absolute top-1/3 -right-4 w-8 h-8 bg-white rounded-full"></div>
                        
                        <div class="flex items-center justify-between mb-4 pb-4 border-b border-dashed border-cyan-300">
                            <span class="text-3xl">‚õµÔ∏è</span>
                            <h2 class="text-xl font-bold text-cyan-800">E-Ticket</h2>
                            <span class="text-3xl">‚õµÔ∏è</span>
                        </div>
                        
                        <div class="flex flex-col items-center mb-4">
                            <!-- Updated QR Code (dynamic) -->
                            <img id="ticket-qr-code" src="" alt="Ticket QR Code" class="rounded-lg shadow-md w-[200px] h-[200px] bg-gray-200">
                        </div>
                        
                        <div class="space-y-2 text-gray-700">
                            <div class="flex justify-between">
                                <span class="font-medium" data-i18n="ticket.from">‡∏à‡∏≤‡∏Å:</span>
                                <span class="font-bold text-right" id="ticket-from"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-medium" data-i18n="ticket.to">‡∏ñ‡∏∂‡∏á:</span>
                                <span class="font-bold text-right" id="ticket-to"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-medium" data-i18n="ticket.price">‡∏£‡∏≤‡∏Ñ‡∏≤:</span>
                                <span class="font-bold text-right" id="ticket-price"></span>
                            </div>
                             <div class="flex justify-between">
                                <span class="font-medium" data-i18n="ticket.time">‡πÄ‡∏ß‡∏•‡∏≤:</span>
                                <span class="font-bold text-right" id="ticket-time"></span>
                            </div>
                            <hr class="my-2 border-dashed border-cyan-300">
                            <div class="flex justify-between text-sm">
                                <span class="font-medium" data-i18n="ticket.user">‡∏ã‡∏∑‡πâ‡∏≠‡πÇ‡∏î‡∏¢:</span>
                                <span id="ticket-user">User Name</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="font-medium" data-i18n="ticket.purchase_date">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠:</span>
                                <span id="ticket-purchase-date"></span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="font-medium" data-i18n="ticket.booking_no">Booking No:</span>
                                <span id="ticket-booking-no"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page: Profile (‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå) -->
            <div id="page-profile" class="page">
                <header class="bg-cyan-600 text-white p-4 shadow-md">
                    <h1 class="text-xl font-bold text-center" data-i18n="profile.title">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h1>
                </header>
                <div class="p-6 flex flex-col items-center">
                    <div class="w-24 h-24 bg-gray-300 rounded-full flex items-center justify-center mb-4 shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-6">User Name</h2>
                </div>
                <div class="px-4">
                    <ul class="bg-white rounded-lg shadow border border-gray-200 divide-y divide-gray-200">
                        <li onclick="showPage('page-ticket')" class="p-4 flex justify-between items-center hover:bg-gray-50 transition cursor-pointer">
                            <span class="font-medium" data-i18n="profile.my_ticket">‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </li>
                        <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition cursor-pointer">
                            <span class="font-medium" data-i18n="profile.booking_history">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </li>
                         <!-- Language Switcher -->
                         <li class="p-4 flex justify-between items-center">
                            <span class="font-medium" data-i18n="profile.language">‡∏†‡∏≤‡∏©‡∏≤</span>
                            <select id="language-switcher" class="border border-gray-300 rounded-lg p-1 text-sm focus:ring-cyan-500 focus:border-cyan-500">
                                <option value="th">‡πÑ‡∏ó‡∏¢</option>
                                <option value="en">English</option>
                                <option value="zh">‰∏≠Êñá</option>
                            </select>
                        </li>
                    </ul>

                    <button class="w-full text-red-600 font-semibold p-4 mt-6 rounded-lg hover:bg-red-50 transition" data-i18n="profile.logout">
                        ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                    </button>
                </div>
            </div>

             <!-- Page: Notifications (‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô) -->
            <div id="page-notifications" class="page">
                <header class="bg-cyan-600 text-white p-4 shadow-md">
                    <h1 class="text-xl font-bold text-center" data-i18n="notifications.title">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h1>
                </header>
                <div class="p-4">
                    <input type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..." class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-cyan-500 focus:border-cyan-500 mb-4" data-i18n-placeholder="notifications.search_placeholder">
                    <ul class="space-y-3">
                        <!-- Clickable Notification Item -->
                        <li onclick="showNotificationDetail('ticket')" class="bg-white p-4 rounded-lg shadow border border-gray-200 hover:bg-gray-50 transition cursor-pointer">
                            <div class="flex justify-between items-center mb-1">
                                <h3 class="font-semibold text-gray-800" data-i18n="notifications.ticket.title">‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
                                <span class="text-xs text-gray-500">22 ‡∏ï.‡∏Ñ.</span>
                            </div>
                            <p class="text-sm text-gray-600" data-i18n="notifications.ticket.body">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...</p>
                        </li>
                         <!-- Clickable Notification Item -->
                         <li onclick="showNotificationDetail('welcome')" class="bg-white p-4 rounded-lg shadow border border-gray-200 hover:bg-gray-50 transition cursor-pointer">
                            <div class="flex justify-between items-center mb-1">
                                <h3 class="font-semibold text-gray-800" data-i18n="notifications.welcome.title">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö!</h3>
                                <span class="text-xs text-gray-500">19 ‡∏ï.‡∏Ñ.</span>
                            </div>
                            <p class="text-sm text-gray-600" data-i18n="notifications.welcome.body">‡πÄ‡∏£‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤ ‡∏à‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ...</p>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Page: Notification Detail (‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô) -->
            <div id="page-notification-detail" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-notifications')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="notifications.detail.title">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</h1>
                </header>
                <div class="p-4" id="notification-detail-content">
                    <!-- Content will be injected by JS -->
                </div>
            </div>

            <!-- Page: Chat (FAQ / Q&A Style) -->
            <div id="page-chat" class="page">
                <!-- Header -->
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md flex-shrink-0">
                    <button onclick="showPage('page-home')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="chat.title">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (FAQ)</h1>
                </header>
                
                <!-- Chat Message Area -->
                <div id="chat-messages" class="flex-1 p-4 space-y-4 overflow-y-auto no-scrollbar pb-20">
                    <!-- Admin Message -->
                    <div class="flex items-start space-x-3">
                        <div class="w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center font-bold text-gray-600 flex-shrink-0">A</div>
                        <div class="bg-gray-200 text-gray-800 p-3 rounded-lg rounded-tl-none max-w-xs">
                            <p class="font-semibold text-sm mb-1">Admin</p>
                            <p data-i18n="chat.admin_greeting">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö</p>
                        </div>
                    </div>

                    <!-- Example Q1 -->
                    <div class="flex justify-end">
                        <div class="bg-cyan-600 text-white p-3 rounded-lg rounded-tr-none max-w-xs">
                            <p data-i18n="chat.q_price">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center font-bold text-gray-600 flex-shrink-0">A</div>
                        <div class="bg-gray-200 text-gray-800 p-3 rounded-lg rounded-tl-none max-w-xs">
                            <p class="font-semibold text-sm mb-1">Admin</p>
                            <p data-i18n="chat.a_price">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏£‡∏∑‡∏≠‡∏Ñ‡∏£‡∏±‡∏ö (‡πÄ‡∏ä‡πà‡∏ô ‡∏ò‡∏á‡∏™‡πâ‡∏° 16 ‡∏ö‡∏≤‡∏ó) ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ "‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤ & ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß"</p>
                        </div>
                    </div>

                    <!-- Example Q2 -->
                    <div class="flex justify-end">
                        <div class="bg-cyan-600 text-white p-3 rounded-lg rounded-tr-none max-w-xs">
                            <p data-i18n="chat.q_time">‡πÄ‡∏£‡∏∑‡∏≠‡∏≠‡∏≠‡∏Å‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á?</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center font-bold text-gray-600 flex-shrink-0">A</div>
                        <div class="bg-gray-200 text-gray-800 p-3 rounded-lg rounded-tl-none max-w-xs">
                            <p class="font-semibold text-sm mb-1">Admin</p>
                            <p data-i18n="chat.a_time">‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ "‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤ & ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß" ‡∏Ñ‡∏£‡∏±‡∏ö</p>
                        </div>
                    </div>

                    <!-- Example Q3 -->
                    <div class="flex justify-end">
                        <div class="bg-cyan-600 text-white p-3 rounded-lg rounded-tr-none max-w-xs">
                            <p data-i18n="chat.q_buy">‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏á?</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center font-bold text-gray-600 flex-shrink-0">A</div>
                        <div class="bg-gray-200 text-gray-800 p-3 rounded-lg rounded-tl-none max-w-xs">
                            <p class="font-semibold text-sm mb-1">Admin</p>
                            <p data-i18n="chat.a_buy">‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ "‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤ & ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß" ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏±‡∏ö</p>
                        </div>
                    </div>
                </div>
                
                <!-- Chat Input Area (REMOVED) -->
            </div>
            
            <!-- Page: Settings (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤) -->
            <div id="page-config" class="page">
                <header class="bg-cyan-600 text-white p-4 flex items-center shadow-md">
                    <button onclick="showPage('page-home')" class="mr-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-xl font-bold" data-i18n="settings.title">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h1>
                </header>
                <div class="p-4">
                    <ul class="bg-white rounded-lg shadow border border-gray-200 divide-y divide-gray-200">
                        <!-- Notification -->
                        <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition">
                            <div class="flex items-center space-x-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                                </svg>
                                <span class="font-medium" data-i18n="settings.notification">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</span>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </li>
                        <!-- Dark Mode -->
                        <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition">
                            <div class="flex items-center space-x-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                                </svg>
                                <span class="font-medium" data-i18n="settings.dark_mode">‡πÇ‡∏´‡∏°‡∏î‡∏°‡∏∑‡∏î</span>
                            </div>
                             <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="toggle-slider"></span>
                            </label>
                        </li>
                        <!-- Rate App -->
                        <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition cursor-pointer">
                            <div class="flex items-center space-x-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118L2.98 9.11c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                                </svg>
                                <span class="font-medium" data-i18n="settings.rate_app">‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏≠‡∏õ</span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </li>
                        <!-- Share App -->
                        <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition cursor-pointer">
                            <div class="flex items-center space-x-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z" />
                                </svg>
                                <span class="font-medium" data-i18n="settings.share_app">‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏≠‡∏õ</span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </li>
                        <!-- Privacy Policy -->
                         <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition cursor-pointer">
                            <div class="flex items-center space-x-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                </svg>
                                <span class="font-medium" data-i18n="settings.privacy">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </li>
                        <!-- Terms -->
                        <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition cursor-pointer">
                            <div class="flex items-center space-x-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                </svg>
                                <span class="font-medium" data-i18n="settings.terms">‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </li>
                        <!-- Cookies -->
                        <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition cursor-pointer">
                            <div class="flex items-center space-x-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                     <path stroke-linecap="round" stroke-linejoin="round" d="M19.06 3.94a10.046 10.046 0 00-14.12 0 10.046 10.046 0 000 14.12 10.046 10.046 0 0014.12 0 10.046 10.046 0 000-14.12zM12 18a6 6 0 110-12 6 6 0 010 12zM12 15a3 3 0 110-6 3 3 0 010 6z" />
                                </svg>
                                <span class="font-medium" data-i18n="settings.cookies">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ</span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </li>
                        <!-- Contact -->
                        <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition cursor-pointer">
                            <div class="flex items-center space-x-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                                <span class="font-medium" data-i18n="settings.contact">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </li>
                        <!-- Feedback -->
                        <li class="p-4 flex justify-between items-center hover:bg-gray-50 transition cursor-pointer">
                            <div class="flex items-center space-x-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                                </svg>
                                <span class="font-medium" data-i18n="settings.feedback">‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞</span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </li>
                    </ul>
                </div>
            </div>


        </main>

        <!-- Bottom Navigation Bar -->
        <nav class="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white border-t border-gray-200 grid grid-cols-5 gap-1 p-2 bottom-nav">
            <button onclick="showPage('page-profile', this)" class="nav-item flex flex-col items-center justify-center p-2 rounded-lg hover:bg-gray-100 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                <p class="text-xs text-gray-600" data-i18n="nav.profile">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</p>
            </button>
            
            <!-- Chat Button -->
            <button onclick="showPage('page-chat', this)" class="nav-item flex flex-col items-center justify-center p-2 rounded-lg hover:bg-gray-100 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                </svg>
                <p class="text-xs text-gray-600" data-i18n="nav.chat">‡πÅ‡∏ä‡∏ó</p>
            </button>
            
            <button onclick="showPage('page-home', this)" class="nav-item flex flex-col items-center justify-center p-2 rounded-lg hover:bg-gray-100 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4h.01M12 12h.01" />
                </svg>
                <p class="text-xs text-gray-600" data-i18n="nav.home">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</p>
            </button>
            <button onclick="showPage('page-notifications', this)" class="nav-item flex flex-col items-center justify-center p-2 rounded-lg hover:bg-gray-100 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                </svg>
                <p class="text-xs text-gray-600" data-i18n="nav.notifications">‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</p>
            </button>
            <!-- Settings Button -->
            <button onclick="showPage('page-config', this)" class="nav-item flex flex-col items-center justify-center p-2 rounded-lg hover:bg-gray-100 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <p class="text-xs text-gray-600" data-i18n="nav.settings">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</p>
            </button>
        </nav>

    </div>

    <!-- Leaflet.js JS for Map -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script>
        // --- Language Translations ---
        const translations = {
            'th': {
                'loading': '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...',
                'home.title': 'ViaBoat (‡∏à‡∏≥‡∏•‡∏≠‡∏á)',
                'home.search_label': '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á',
                'home.search_placeholder': '‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?',
                'home.info_button': '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
                'home.buy_button': '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤ & ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß',
                'nav.profile': '‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå',
                'nav.chat': '‡πÅ‡∏ä‡∏ó',
                'nav.home': '‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å',
                'nav.notifications': '‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô',
                'nav.settings': '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤',
                'settings.title': '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤',
                'settings.notification': '‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô',
                'settings.dark_mode': '‡πÇ‡∏´‡∏°‡∏î‡∏°‡∏∑‡∏î',
                'settings.rate_app': '‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏≠‡∏õ',
                'settings.share_app': '‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏≠‡∏õ',
                'settings.privacy': '‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß',
                'settings.terms': '‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç',
                'settings.cookies': '‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ',
                'settings.contact': '‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤',
                'settings.feedback': '‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞',
                'info.title': '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠',
                'info.header1': '‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡πà‡∏ß‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏û‡∏£‡∏∞‡∏¢‡∏≤',
                'info.orange.title': '‡∏ò‡∏á‡∏™‡πâ‡∏°',
                'info.orange.body': '‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ - ‡∏ß‡∏±‡∏î‡∏£‡∏≤‡∏ä‡∏™‡∏¥‡∏á‡∏Ç‡∏£ (‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå)',
                'info.yellow.title': '‡∏ò‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á',
                'info.yellow.body': '‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ - ‡∏™‡∏≤‡∏ó‡∏£ (‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå, ‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡πà‡∏ß‡∏ô)',
                'info.green.title': '‡∏ò‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á',
                'info.green.body': '‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏õ‡∏≤‡∏Å‡πÄ‡∏Å‡∏£‡πá‡∏î - ‡∏™‡∏≤‡∏ó‡∏£ (‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå, ‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡πà‡∏ß‡∏ô)',
                'info.red.title': '‡∏ò‡∏á‡πÅ‡∏î‡∏á',
                'info.red.body': '‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ - ‡∏™‡∏≤‡∏ó‡∏£ (‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå, ‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏®)',
                'info.blue.title': '‡∏ò‡∏á‡∏ü‡πâ‡∏≤',
                'info.blue.body': '‡πÄ‡∏£‡∏∑‡∏≠‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß (Tourist Boat) ‡∏à‡∏≠‡∏î‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏´‡∏•‡∏±‡∏Å',
                'info.header2': 'MINE Smart Ferry (‡πÄ‡∏£‡∏∑‡∏≠‡πÑ‡∏ü‡∏ü‡πâ‡∏≤)',
                'info.purple.title': '‡∏™‡∏≤‡∏¢‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á (Purple Line)',
                'info.purple.body': '‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏û‡∏£‡∏∞‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏Å‡∏•‡πâ‡∏≤ - ‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏ó‡∏£',
                'info.green_mine.title': '‡∏™‡∏≤‡∏¢‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß (Green Line)',
                'info.green_mine.body': '‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏û‡∏£‡∏∞‡∏õ‡∏¥‡πà‡∏ô‡πÄ‡∏Å‡∏•‡πâ‡∏≤ - ‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏ó‡∏£',
                'timetable.title': '‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤',
                'timetable.from_label': '‡∏à‡∏≤‡∏Å:',
                'timetable.from_placeholder': '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á',
                'timetable.to_label': '‡∏ñ‡∏∂‡∏á:',
                'timetable.to_placeholder': '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á',
                'timetable.mon_fri': '‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå:',
                'timetable.sat': '‡πÄ‡∏™‡∏≤‡∏£‡πå (‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏ô‡∏±‡∏Å‡∏Ç‡∏±‡∏ï‡∏§‡∏Å‡∏©‡πå):',
                'timetable.sun': '‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå:',
                'timetable.search_button': '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß',
                'timetable.no_trips_found': '‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏ô‡∏µ‡πâ',
                'buy.title': '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏£‡∏∑‡∏≠',
                'buy.from': '‡∏à‡∏≤‡∏Å',
                'buy.to': '‡∏ñ‡∏∂‡∏á',
                'buy.time': '‡πÄ‡∏ß‡∏•‡∏≤‡∏ñ‡∏∂‡∏á‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì',
                'buy.price': '‡∏£‡∏≤‡∏Ñ‡∏≤',
                'buy.button': '‡∏ã‡∏∑‡πâ‡∏≠',
                'payment.title': '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                'payment.cash': '‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î',
                'qr.title': '‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢ PromptPay',
                'qr.save_button': '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å QR Code',
                'qr.confirm_button': '(‡∏à‡∏≥‡∏•‡∏≠‡∏á) ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                'cash.title': '‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î',
                'cash.instruction': '"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏≤‡∏ô‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡∏ñ‡∏∂‡∏á"',
                'cash.confirm_button': '(‡∏à‡∏≥‡∏•‡∏≠‡∏á) ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πã‡∏ß',
                'alipay.merchant': '‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤',
                'alipay.method': '‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                'alipay.price': '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤',
                'alipay.discount': '‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á',
                'alipay.total': '‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°',
                'alipay.confirm_button': '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô',
                'success.title': '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô',
                'success.header': '‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                'success.view_ticket_button': '‡∏î‡∏π‡∏ï‡∏±‡πã‡∏ß',
                'ticket.title': '‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô',
                'ticket.from': '‡∏à‡∏≤‡∏Å:',
                'ticket.to': '‡∏ñ‡∏∂‡∏á:',
                'ticket.price': '‡∏£‡∏≤‡∏Ñ‡∏≤:',
                'ticket.time': '‡πÄ‡∏ß‡∏•‡∏≤:',
                'ticket.user': '‡∏ã‡∏∑‡πâ‡∏≠‡πÇ‡∏î‡∏¢:',
                'ticket.purchase_date': '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠:',
                'ticket.booking_no': 'Booking No:',
                'profile.title': '‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô',
                'profile.my_ticket': '‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô',
                'profile.booking_history': '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á',
                'profile.language': '‡∏†‡∏≤‡∏©‡∏≤',
                'profile.logout': '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö',
                'notifications.title': '‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô',
                'notifications.search_placeholder': '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...',
                'notifications.ticket.title': '‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì',
                'notifications.ticket.body': '‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...',
                'notifications.welcome.title': '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö!',
                'notifications.welcome.body': '‡πÄ‡∏£‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤ ‡∏à‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ...',
                'notifications.detail.title': '‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô',
                'notifications.ticket.detail_header': '‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô',
                'notifications.ticket.detail_body': '‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á [‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á] ‡∏£‡∏≤‡∏Ñ‡∏≤ [‡∏£‡∏≤‡∏Ñ‡∏≤] ‡∏ö‡∏≤‡∏ó ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß',
                'notifications.welcome.detail_header': '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà ViaBoat!',
                'notifications.welcome.detail_body': '‡πÄ‡∏£‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!',
                // Chat Q&A
                'chat.title': '‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (FAQ)',
                'chat.admin_greeting': '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö',
                'chat.q_price': '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?',
                'chat.a_price': '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏£‡∏∑‡∏≠‡∏Ñ‡∏£‡∏±‡∏ö (‡πÄ‡∏ä‡πà‡∏ô ‡∏ò‡∏á‡∏™‡πâ‡∏° 16 ‡∏ö‡∏≤‡∏ó) ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ "‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤ & ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß"',
                'chat.q_time': '‡πÄ‡∏£‡∏∑‡∏≠‡∏≠‡∏≠‡∏Å‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á?',
                'chat.a_time': '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ "‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤ & ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß" ‡∏Ñ‡∏£‡∏±‡∏ö',
                'chat.q_buy': '‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏á?',
                'chat.a_buy': '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ "‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤ & ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß" ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏±‡∏ö',
            },
            'en': {
                'loading': 'Loading...',
                'home.title': 'ViaBoat (Demo)',
                'home.search_label': 'Find your route',
                'home.search_placeholder': 'Where to?',
                'home.info_button': 'Information',
                'home.buy_button': 'Time Table & Buy Ticket',
                'nav.profile': 'Profile',
                'nav.chat': 'Chat',
                'nav.home': 'Home',
                'nav.notifications': 'Notify',
                'nav.settings': 'Settings',
                'settings.title': 'Settings',
                'settings.notification': 'Notifications',
                'settings.dark_mode': 'Dark Mode',
                'settings.rate_app': 'Rate App',
                'settings.share_app': 'Share App',
                'settings.privacy': 'Privacy Policy',
                'settings.terms': 'Terms & Conditions',
                'settings.cookies': 'Cookie Policy',
                'settings.contact': 'Contact Us',
                'settings.feedback': 'Feedback',
                'info.title': 'Boat Information',
                'info.header1': 'Chao Phraya Express Boat',
                'info.orange.title': 'Orange Flag',
                'info.orange.body': 'Route: Nonthaburi - Wat Rajsingkorn (Mon - Sun)',
                'info.yellow.title': 'Yellow Flag',
                'info.yellow.body': 'Route: Nonthaburi - Sathorn (Mon - Fri, Express)',
                'info.green.title': 'Green-Yellow Flag',
                'info.green.body': 'Route: Pakkret - Sathorn (Mon - Fri, Express)',
                'info.red.title': 'Red Flag',
                'info.red.body': 'Route: Nonthaburi - Sathorn (Mon - Fri, A/C Express)',
                'info.blue.title': 'Blue Flag',
                'info.blue.body': 'Tourist Boat (Stops at main tourist piers)',
                'info.header2': 'MINE Smart Ferry (Electric)',
                'info.purple.title': 'Purple Line',
                'info.purple.body': 'Route: Phra Nang Klao Pier - Sathorn Pier',
                'info.green_mine.title': 'Green Line',
                'info.green_mine.body': 'Route: Phra Pin Klao Pier - Sathorn Pier',
                'timetable.title': 'Time Table',
                'timetable.from_label': 'From:',
                'timetable.from_placeholder': 'Please select origin pier',
                'timetable.to_label': 'To:',
                'timetable.to_placeholder': 'Please select destination pier',
                'timetable.mon_fri': 'Mon - Fri:',
                'timetable.sat': 'Sat (Public Holiday):',
                'timetable.sun': 'Sun:',
                'timetable.search_button': 'Search & Buy Ticket',
                'timetable.no_trips_found': 'No trips found for this route',
                'buy.title': 'Select Trip',
                'buy.from': 'From',
                'buy.to': 'To',
                'buy.time': 'Est. Arrival Time',
                'buy.price': 'Price',
                'buy.button': 'Buy',
                'payment.title': 'Choose Payment Method',
                'payment.cash': 'Cash',
                'qr.title': 'Pay with PromptPay',
                'qr.save_button': 'Save QR Code',
                'qr.confirm_button': '(Simulate) Confirm Payment',
                'cash.title': 'Pay with Cash',
                'cash.instruction': '"Please pay cash at the counter 30 minutes before arrival time."',
                'cash.confirm_button': '(Simulate) Confirm and Get Ticket',
                'alipay.merchant': 'Merchant',
                'alipay.method': 'Payment method',
                'alipay.price': 'Product price',
                'alipay.discount': 'Coupon discount',
                'alipay.total': 'Total amount',
                'alipay.confirm_button': 'Confirm',
                'success.title': 'Payment Status',
                'success.header': 'Payment Success!',
                'success.view_ticket_button': 'View Ticket',
                'ticket.title': 'My Ticket',
                'ticket.from': 'From:',
                'ticket.to': 'To:',
                'ticket.price': 'Price:',
                'ticket.time': 'Time:',
                'ticket.user': 'Purchased By:',
                'ticket.purchase_date': 'Purchase Date:',
                'ticket.booking_no': 'Booking No:',
                'profile.title': 'My Profile',
                'profile.my_ticket': 'My Ticket',
                'profile.booking_history': 'Booking History',
                'profile.language': 'Language',
                'profile.logout': 'Log out',
                'notifications.title': 'Notifications',
                'notifications.search_placeholder': 'Search...',
                'notifications.ticket.title': 'Your Ticket',
                'notifications.ticket.body': 'Thank you for your purchase. Here is your ticket...',
                'notifications.welcome.title': 'Welcome!',
                'notifications.welcome.body': 'We\'re glad to have you! Book your next...',
                'notifications.detail.title': 'Notification Detail',
                'notifications.ticket.detail_header': 'Your Ticket Details',
                'notifications.ticket.detail_body': 'Thank you for purchasing a ticket for [Route] at [Price] THB. Your payment has been confirmed.',
                'notifications.welcome.detail_header': 'Welcome to ViaBoat!',
                'notifications.welcome.detail_body': 'We are excited to have you on board. Start your journey and find the perfect boat route for you!',
                // Chat Q&A
                'chat.title': 'Customer Service (FAQ)',
                'chat.admin_greeting': 'Hello! Here are some frequently asked questions.',
                'chat.q_price': 'What is the ticket price?',
                'chat.a_price': 'Ticket prices depend on the route and boat type (e.g., Orange Flag is 16 THB). You can check the exact price on the "Time Table & Buy Ticket" page.',
                'chat.q_time': 'What time does the boat leave?',
                'chat.a_time': 'You can see the full boat schedule on the "Time Table & Buy Ticket" page.',
                'chat.q_buy': 'How to buy a ticket?',
                'chat.a_buy': 'You can buy tickets by going to the "Time Table & Buy Ticket" page, selecting your route and desired trip.',
            },
            'zh': {
                'loading': 'Âä†ËΩΩ‰∏≠...',
                'home.title': 'ViaBoat (ÊºîÁ§∫)',
                'home.search_label': 'Êü•ÊâæË∑ØÁ∫ø',
                'home.search_placeholder': '‰Ω†Ë¶ÅÂéªÂì™ÈáåÔºü',
                'home.info_button': '‰ø°ÊÅØ',
                'home.buy_button': 'Êó∂ÂàªË°®ÂíåË¥≠Á•®',
                'nav.profile': '‰∏™‰∫∫ËµÑÊñô',
                'nav.chat': 'ËÅäÂ§©',
                'nav.home': '‰∏ªÈ°µ',
                'nav.notifications': 'ÈÄöÁü•',
                'nav.settings': 'ËÆæÁΩÆ',
                'settings.title': 'ËÆæÁΩÆ',
                'settings.notification': 'ÈÄöÁü•',
                'settings.dark_mode': 'ÈªëÊöóÊ®°Âºè',
                'settings.rate_app': 'ËØÑ‰ª∑Â∫îÁî®',
                'settings.share_app': 'ÂàÜ‰∫´Â∫îÁî®',
                'settings.privacy': 'ÈöêÁßÅÊîøÁ≠ñ',
                'settings.terms': 'Êù°Ê¨æÂíåÊù°‰ª∂',
                'settings.cookies': 'Cookie ÊîøÁ≠ñ',
                'settings.contact': 'ËÅîÁ≥ªÊàë‰ª¨',
                'settings.feedback': 'ÂèçÈ¶à',
                'info.title': 'ËàπËà∂‰ø°ÊÅØ',
                'info.header1': 'ÊπÑÂçóÊ≤≥Âø´Ëàπ (Chao Phraya Express Boat)',
                'info.orange.title': 'Ê©ôÊóóËàπ',
                'info.orange.body': 'Ë∑ØÁ∫øÔºöÊöñÊ≠¶Èáå - Wat Rajsingkorn (Âë®‰∏ÄËá≥Âë®Êó•)',
                'info.yellow.title': 'ÈªÑÊóóËàπ',
                'info.yellow.body': 'Ë∑ØÁ∫øÔºöÊöñÊ≠¶Èáå - Ê≤ôÂêû (Âë®‰∏ÄËá≥Âë®‰∫î, Âø´Ëàπ)',
                'info.green.title': 'ÁªøÈªÑÊóóËàπ',
                'info.green.body': 'Ë∑ØÁ∫øÔºöPakkret - Ê≤ôÂêû (Âë®‰∏ÄËá≥Âë®‰∫î, Âø´Ëàπ)',
                'info.red.title': 'Á∫¢ÊóóËàπ',
                'info.red.body': 'Ë∑ØÁ∫øÔºöÊöñÊ≠¶Èáå - Ê≤ôÂêû (Âë®‰∏ÄËá≥Âë®‰∫î, Á©∫Ë∞ÉÂø´Ëàπ)',
                'info.blue.title': 'ËìùÊóóËàπ',
                'info.blue.body': 'ËßÇÂÖâËàπ (ÂÅúÈù†‰∏ªË¶ÅÊóÖÊ∏∏Á†ÅÂ§¥)',
                'info.header2': 'MINE Smart Ferry (ÁîµÂä®Ëàπ)',
                'info.purple.title': 'Á¥´Á∫ø (Purple Line)',
                'info.purple.body': 'Ë∑ØÁ∫øÔºöPhra Nang Klao Á†ÅÂ§¥ - Ê≤ôÂêûÁ†ÅÂ§¥',
                'info.green_mine.title': 'ÁªøÁ∫ø (Green Line)',
                'info.green_mine.body': 'Ë∑ØÁ∫øÔºöPhra Pin Klao Á†ÅÂ§¥ - Ê≤ôÂêûÁ†ÅÂ§¥',
                'timetable.title': 'Êó∂ÂàªË°®',
                'timetable.from_label': '‰ªé:',
                'timetable.from_placeholder': 'ËØ∑ÈÄâÊã©Âá∫ÂèëÁ†ÅÂ§¥',
                'timetable.to_label': 'Âà∞:',
                'timetable.to_placeholder': 'ËØ∑ÈÄâÊã©ÁõÆ‚Äã‚ÄãÁöÑÂú∞Á†ÅÂ§¥',
                'timetable.mon_fri': 'Âë®‰∏ÄËá≥Âë®‰∫î:',
                'timetable.sat': 'Âë®ÂÖ≠ÔºàÂÖ¨‰ºóÂÅáÊúüÔºâ:',
                'timetable.sun': 'Âë®Êó•:',
                'timetable.search_button': 'ÊêúÁ¥¢Âπ∂Ë¥≠Á•®',
                'timetable.no_trips_found': 'Êú™ÊâæÂà∞ËØ•Ë∑ØÁ∫øÁöÑË°åÁ®ã',
                'buy.title': 'ÈÄâÊã©Ë°åÁ®ã',
                'buy.from': '‰ªé',
                'buy.to': 'Âà∞',
                'buy.time': 'È¢ÑËÆ°ÊäµËææÊó∂Èó¥',
                'buy.price': '‰ª∑Ê†º',
                'buy.button': 'Ë¥≠‰π∞',
                'payment.title': 'ÈÄâÊã©‰ªòÊ¨æÊñπÂºè',
                'payment.cash': 'Áé∞Èáë',
                'qr.title': '‰ΩøÁî® PromptPay ‰ªòÊ¨æ',
                'qr.save_button': '‰øùÂ≠ò‰∫åÁª¥Á†Å',
                'qr.confirm_button': 'ÔºàÊ®°ÊãüÔºâÁ°ÆËÆ§‰ªòÊ¨æ',
                'cash.title': 'Áé∞ÈáëÊîØ‰ªò',
                'cash.instruction': '‚ÄúËØ∑Âú®ËàπÂè™ÊäµËææÂâç 30 ÂàÜÈíüÂà∞ÊüúÂè∞ÊîØ‰ªòÁé∞Èáë‚Äù',
                'cash.confirm_button': 'ÔºàÊ®°ÊãüÔºâÁ°ÆËÆ§Âπ∂ÂèñÁ•®',
                'alipay.merchant': 'ÂïÜÂÆ∂',
                'alipay.method': '‰ªòÊ¨æÊñπÂºè',
                'alipay.price': '‰∫ßÂìÅ‰ª∑Ê†º',
                'alipay.discount': '‰ºòÊÉ†Âà∏ÊäòÊâ£',
                'alipay.total': 'ÊÄªÈáëÈ¢ù',
                'alipay.confirm_button': 'Á°ÆËÆ§',
                'success.title': '‰ªòÊ¨æÁä∂ÊÄÅ',
                'success.header': '‰ªòÊ¨æÊàêÂäüÔºÅ',
                'success.view_ticket_button': 'Êü•ÁúãËàπÁ•®',
                'ticket.title': 'ÊàëÁöÑËàπÁ•®',
                'ticket.from': '‰ªé:',
                'ticket.to': 'Âà∞:',
                'ticket.price': '‰ª∑Ê†º:',
                'ticket.time': 'Êó∂Èó¥:',
                'ticket.user': 'Ë¥≠‰π∞ËÄÖ:',
                'ticket.purchase_date': 'Ë¥≠‰π∞Êó•Êúü:',
                'ticket.booking_no': 'È¢ÑËÆ¢Âè∑:',
                'profile.title': 'ÊàëÁöÑ‰∏™‰∫∫ËµÑÊñô',
                'profile.my_ticket': 'ÊàëÁöÑËàπÁ•®',
                'profile.booking_history': 'È¢ÑËÆ¢ÂéÜÂè≤',
                'profile.language': 'ËØ≠Ë®Ä',
                'profile.logout': 'ÁôªÂá∫',
                'notifications.title': 'ÈÄöÁü•',
                'notifications.search_placeholder': 'ÊêúÁ¥¢...',
                'notifications.ticket.title': 'ÊÇ®ÁöÑËàπÁ•®',
                'notifications.ticket.body': 'ÊÑüË∞¢ÊÇ®ÁöÑË¥≠‰π∞„ÄÇËøôÊòØÊÇ®ÁöÑËàπÁ•®...',
                'notifications.welcome.title': 'Ê¨¢ËøéÔºÅ',
                'notifications.welcome.body': 'Êàë‰ª¨ÂæàÈ´òÂÖ¥ÊÇ®ÁöÑÂÖâ‰∏¥ÔºÅÈ¢ÑËÆ¢ÊÇ®ÁöÑ‰∏ã‰∏ÄÊ¨°...',
                'notifications.detail.title': 'ÈÄöÁü•ËØ¶ÊÉÖ',
                'notifications.ticket.detail_header': 'ÊÇ®ÁöÑËàπÁ•®ËØ¶ÊÉÖ',
                'notifications.ticket.detail_body': 'ÊÑüË∞¢ÊÇ®Ë¥≠‰π∞ [Ë∑ØÁ∫ø] Ëà™Á∫øÔºå‰ª∑Ê†º [‰ª∑Ê†º] Ê≥∞Èì¢„ÄÇÊÇ®ÁöÑ‰ªòÊ¨æÂ∑≤Á°ÆËÆ§„ÄÇ',
                'notifications.welcome.detail_header': 'Ê¨¢ËøéÊù•Âà∞ ViaBoatÔºÅ',
                'notifications.welcome.detail_body': 'Êàë‰ª¨ÂæàÈ´òÂÖ¥ÊÇ®ËÉΩÂä†ÂÖ•Êàë‰ª¨„ÄÇÂºÄÂßãÊÇ®ÁöÑÊóÖÁ®ãÔºåÊâæÂà∞ÊúÄÈÄÇÂêàÊÇ®ÁöÑËà™Á∫øÂêßÔºÅ',
                // Chat Q&A
                'chat.title': 'ÂÆ¢Êà∑ÊúçÂä° (FAQ)',
                'chat.admin_greeting': 'ÊÇ®Â•ΩÔºÅËøôÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÈóÆÈ¢ò„ÄÇ',
                'chat.q_price': 'Á•®‰ª∑ÊòØÂ§öÂ∞ëÔºü',
                'chat.a_price': 'Á•®‰ª∑ÂèñÂÜ≥‰∫éË∑ØÁ∫øÂíåËàπÂûãÔºà‰æãÂ¶ÇÊ©ôÊóóËàπ‰∏∫ 16 Ê≥∞Èì¢Ôºâ„ÄÇÊÇ®ÂèØ‰ª•Âú®‚ÄúÊó∂ÂàªË°®ÂíåË¥≠Á•®‚ÄùÈ°µÈù¢Êü•ÁúãÁ°ÆÂàá‰ª∑Ê†º„ÄÇ',
                'chat.q_time': 'Ëàπ‰ªÄ‰πàÊó∂ÂÄôÂºÄÔºü',
                'chat.a_time': 'ÊÇ®ÂèØ‰ª•Âú®‚ÄúÊó∂ÂàªË°®ÂíåË¥≠Á•®‚ÄùÈ°µÈù¢Êü•ÁúãÂÆåÊï¥ÁöÑÂºÄËàπÊó∂Èó¥„ÄÇ',
                'chat.q_buy': 'Â¶Ç‰ΩïË¥≠Á•®Ôºü',
                'chat.a_buy': 'ÊÇ®ÂèØ‰ª•ÂâçÂæÄ‚ÄúÊó∂ÂàªË°®ÂíåË¥≠Á•®‚ÄùÈ°µÈù¢ÔºåÈÄâÊã©ÊÇ®ÁöÑË∑ØÁ∫øÂíåÊâÄÈúÄË°åÁ®ãÊù•Ë¥≠‰π∞ËàπÁ•®„ÄÇ',
            }
        };

        let currentLanguage = 'en'; // Set default language to English
        let map; // Map variable

        function translate(key) {
            return translations[currentLanguage][key] || key;
        }

        function updateTranslations() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.dataset.i18n;
                el.textContent = translate(key);
            });
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.dataset.i18nPlaceholder;
                el.placeholder = translate(key);
            });
            // Update dynamic default options in select
            document.querySelector('#from-pier option[data-i18n]').textContent = translate('timetable.from_placeholder');
            document.querySelector('#to-pier option[data-i18n]').textContent = translate('timetable.to_placeholder');
        }

        // --- App Logic ---

        // Global state for selected ticket
        let selectedTrip = {};

        // Mock data for trips
        const mockTrips = [
            { id: 1, from: "‡∏ó‡πà‡∏≤‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä (Tha Maharaj)", to: "‡∏ß‡∏±‡∏î‡∏≠‡∏£‡∏∏‡∏ì (Wat Arun)", time: "15:30", price: 40, icon: 'üü†' },
            { id: 2, from: "‡∏ó‡πà‡∏≤‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä (Tha Maharaj)", to: "‡∏ß‡∏±‡∏î‡∏≠‡∏£‡∏∏‡∏ì (Wat Arun)", time: "16:00", price: 40, icon: 'üîµ' },
            { id: 3, from: "‡∏ó‡πà‡∏≤‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä (Tha Maharaj)", to: "‡∏ß‡∏±‡∏î‡∏≠‡∏£‡∏∏‡∏ì (Wat Arun)", time: "16:30", price: 40, icon: 'üü£' },
            { id: 4, from: "‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ (Nonthaburi)", to: "‡∏ß‡∏±‡∏î‡∏£‡∏≤‡∏ä‡∏™‡∏¥‡∏á‡∏Ç‡∏£ (Wat Rajsingkorn)", time: "10:10", price: 60, icon: 'üü¢' },
            { id: 5, from: "‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ (Nonthaburi)", to: "‡∏ß‡∏±‡∏î‡∏£‡∏≤‡∏ä‡∏™‡∏¥‡∏á‡∏Ç‡∏£ (Wat Rajsingkorn)", time: "10:40", price: 60, icon: 'üü¢' },
        ];
        
        // Pier coordinates for the map
        const pierLocations = {
            "Tha Maharaj": [13.758, 100.488],
            "Wat Arun": [13.744, 100.489],
            "Nonthaburi": [13.827, 100.485],
            "Wat Rajsingkorn": [13.712, 100.513]
        };

        // Page navigation
        function showPage(pageId, navElement = null) {
            const mainEl = document.querySelector('main');

            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
                page.style.height = ''; // Reset height for all pages
            });
            
            // Show the target page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }

            // --- Scroll Handling Logic ---
            if (pageId === 'page-chat') {
                // For chat page: main is not scrollable, page is 100% height
                mainEl.classList.add('overflow-hidden');
                mainEl.classList.remove('overflow-y-auto', 'pb-20');
                targetPage.style.height = '100%'; 
            } else {
                // For all other pages: main is scrollable, page is auto height
                mainEl.classList.remove('overflow-hidden');
                mainEl.classList.add('overflow-y-auto', 'pb-20');
                // Height is already reset above
                
                // Scroll to top of new page
                mainEl.scrollTop = 0;
            }
            // --- End Scroll Handling ---

            // Update bottom nav active state
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            if (navElement) {
                navElement.classList.add('active');
            } else {
                // Try to find matching nav item by pageId (Updated for 5 buttons)
                let targetNav;
                if (pageId === 'page-profile') targetNav = document.querySelector('.nav-item:nth-child(1)');
                if (pageId === 'page-chat') targetNav = document.querySelector('.nav-item:nth-child(2)');
                if (pageId === 'page-home') targetNav = document.querySelector('.nav-item:nth-child(3)');
                if (pageId === 'page-notifications') targetNav = document.querySelector('.nav-item:nth-child(4)');
                if (pageId === 'page-config') targetNav = document.querySelector('.nav-item:nth-child(5)');
                
                if (targetNav) targetNav.classList.add('active');
            }

            // Specific actions on page load
            if (pageId === 'page-timetable') {
                attachTimetableListeners();
            }
            
            // Invalidate map size if home page is shown
            if (pageId === 'page-home' && map) {
                setTimeout(() => {
                    map.invalidateSize();
                }, 10); // Short delay to ensure page is rendered
            }
        }

        // [REMOVED] Send Chat Message with Q&A
        
        function attachTimetableListeners() {
            const fromSelect = document.getElementById('from-pier');
            const toSelect = document.getElementById('to-pier');
            const scheduleDisplay = document.getElementById('schedule-display');
            const scheduleTitle = document.getElementById('schedule-route-title');

            function updateScheduleView() {
                const fromText = fromSelect.options[fromSelect.selectedIndex].text;
                const toText = toSelect.options[toSelect.selectedIndex].text;

                if (fromSelect.value && toSelect.value && fromSelect.value !== toSelect.value) {
                    scheduleTitle.textContent = `${translate('buy.from')}: ${fromText} - ${translate('buy.to')}: ${toText}`;
                    scheduleDisplay.classList.remove('hidden');
                } else {
                    scheduleDisplay.classList.add('hidden');
                }
            }
            
            fromSelect.onchange = updateScheduleView;
            toSelect.onchange = updateScheduleView;
        }

        // Load available trips
        function loadTrips() {
            const from = document.getElementById('from-pier').value;
            const to = document.getElementById('to-pier').value;

            if (!from || !to || from === to) {
                // ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ‡∏à‡∏£‡∏¥‡∏á‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ message box ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
                console.warn("Please select a valid origin and destination");
                return;
            }

            const container = document.getElementById('trip-list-container');
            container.innerHTML = ''; // Clear old list

            const filteredTrips = mockTrips.filter(trip => trip.from.includes(from) && trip.to.includes(to));

            if (filteredTrips.length === 0) {
                 container.innerHTML = `<p class="text-center text-gray-500">${translate('timetable.no_trips_found')}</p>`;
            } else {
                filteredTrips.forEach(trip => {
                    container.innerHTML += `
                        <div class="bg-cyan-50 border border-cyan-200 p-4 rounded-lg shadow-sm flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">${trip.icon}</span>
                                <div>
                                    <p class="text-sm text-gray-600">${translate('buy.from')}: ${trip.from}</p>
                                    <p class="text-sm text-gray-600">${translate('buy.to')}: ${trip.to}</p>
                                    <p class="font-semibold text-gray-900">${translate('buy.time')}: ${trip.time}</p>
                                    <p class="font-bold text-cyan-700">${translate('buy.price')}: ${trip.price}‡∏ø</p>
                                </div>
                            </div>
                            <button onclick='selectTrip(${JSON.stringify(trip)})' class="bg-cyan-600 text-white px-6 py-2 rounded-lg shadow-md hover:bg-cyan-700 transition font-semibold">
                                ${translate('buy.button')}
                            </button>
                        </div>
                    `;
                });
            }
            showPage('page-buy-list');
        }

        // Select a trip
        function selectTrip(trip) {
            selectedTrip = trip;
            console.log("Selected trip:", selectedTrip);
            showPage('page-payment');
        }

        // Select payment method
        function selectPayment(method) {
            if (method === 'Cash') {
                showPage('page-payment-cash');
            } else if (method === 'PromptPay') {
                showPage('page-payment-qr');
                startQrTimer();
            } else if (method === 'Alipay') {
                document.getElementById('alipay-merchant').textContent = selectedTrip.from;
                const priceText = `‡∏ø${selectedTrip.price.toFixed(2)}`;
                document.getElementById('alipay-price').textContent = priceText;
                document.getElementById('alipay-total').textContent = priceText;
                showPage('page-payment-alipay');
            }
        }

        let qrTimerInterval;
        function startQrTimer() {
            clearInterval(qrTimerInterval);
            let time = 15 * 60; // 15 minutes in seconds
            const timerElement = document.getElementById('qr-timer');
            
            qrTimerInterval = setInterval(() => {
                const minutes = Math.floor(time / 60);
                const seconds = time % 60;
                timerElement.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                
                if (time <= 0) {
                    clearInterval(qrTimerInterval);
                    timerElement.textContent = "00:00";
                    // ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ logic ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤
                }
                time--;
            }, 1000);
        }

        // Confirm payment (simulation)
        function confirmPayment() {
            clearInterval(qrTimerInterval);
            console.log("Payment confirmed for:", selectedTrip);
            showPage('page-success');
        }

        // View ticket
        function viewTicket() {
            document.getElementById('ticket-from').textContent = selectedTrip.from;
            document.getElementById('ticket-to').textContent = selectedTrip.to;
            document.getElementById('ticket-price').textContent = `${selectedTrip.price}‡∏ø`;
            document.getElementById('ticket-time').textContent = selectedTrip.time;
            
            const now = new Date();
            document.getElementById('ticket-purchase-date').textContent = now.toLocaleDateString('th-TH', {
                day: '2-digit', month: 'short', year: 'numeric'
            }) + ` ${now.toLocaleTimeString('th-TH')}`;
            
            const bookingNo = Date.now().toString().slice(-6);
            document.getElementById('ticket-booking-no').textContent = bookingNo;
            
            // Update QR Code image source
            document.getElementById('ticket-qr-code').src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=SimulatedTicketQR-${bookingNo}`;

            showPage('page-ticket');
        }

        // Show Notification Detail
        function showNotificationDetail(type) {
            const contentEl = document.getElementById('notification-detail-content');
            if (type === 'ticket') {
                contentEl.innerHTML = `
                    <h2 class="text-xl font-semibold mb-3" data-i18n="notifications.ticket.detail_header">${translate('notifications.ticket.detail_header')}</h2>
                    <p class="text-gray-700" data-i18n="notifications.ticket.detail_body">${translate('notifications.ticket.detail_body').replace('[Route]', 'Nonthaburi - Sathorn').replace('[Price]', '40')}</p>
                    <button onclick="viewTicket()" class="w-full bg-cyan-600 text-white p-3 rounded-lg shadow-md hover:bg-cyan-700 transition font-semibold mt-6" data-i18n="success.view_ticket_button">
                        ${translate('success.view_ticket_button')}
                    </button>
                `;
            } else if (type === 'welcome') {
                contentEl.innerHTML = `
                    <h2 class="text-xl font-semibold mb-3" data-i18n="notifications.welcome.detail_header">${translate('notifications.welcome.detail_header')}</h2>
                    <p class="text-gray-700" data-i18n="notifications.welcome.detail_body">${translate('notifications.welcome.detail_body')}</p>
                    <button onclick="showPage('page-home')" class="w-full bg-cyan-600 text-white p-3 rounded-lg shadow-md hover:bg-cyan-700 transition font-semibold mt-6" data-i18n="nav.home">
                        ${translate('nav.home')}
                    </button>
                `;
            }
            showPage('page-notification-detail');
        }

        // Initialize Map
        function initMap() {
            if (map) return; // Already initialized
            
            map = L.map('map').setView([13.7563, 100.5018], 12); // Bangkok coordinates, slightly more zoomed out

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // Add markers
            for (const pierName in pierLocations) {
                L.marker(pierLocations[pierName]).addTo(map)
                    .bindPopup(pierName);
            }
        }


        // --- Initial Page Load ---
        document.addEventListener('DOMContentLoaded', () => {
            // Simulate loading time
            setTimeout(() => {
                const loadingScreen = document.getElementById('loading-screen');
                loadingScreen.style.opacity = '0';
                loadingScreen.addEventListener('transitionend', () => {
                    loadingScreen.style.display = 'none';
                });

                // Show the main app
                document.getElementById('app-container').classList.remove('hidden');

                // Set up language switcher
                const langSwitcher = document.getElementById('language-switcher');
                langSwitcher.value = currentLanguage;
                langSwitcher.addEventListener('change', (e) => {
                    currentLanguage = e.target.value;
                    document.documentElement.lang = currentLanguage; // Update page lang attribute
                    updateTranslations();
                });

                // Initial translation
                updateTranslations();
                
                // Show initial page (Updated for 5 buttons, Home is 3rd child)
                showPage('page-home', document.querySelector('.nav-item:nth-child(3)'));

                // Initialize map
                initMap();
                
                // Chat input listener (REMOVED)

            }, 2000); // 2 second loading simulation
        });
    </script>
</body>
</html>
